<div class="row">
  <div class="col-12">
    <div class="row d-flex justify-content-center">
      <div class="col-lg-8 col-9">
        <form>
          <div id="bkg" class="input-group px-2 d-flex justify-content-center">
            <div class="input-group-prepend">
              <div id="rnd" class="input-group-text">
                <mat-icon matPrefix>search &nbsp;</mat-icon>
              </div>
            </div>
            <input type="text" class="form-control" placeholder="Introduzca los datos del producto" name="filterPost"
              [(ngModel)]="filterPost" (ngModelChange)="onChange()">
          </div>
        </form>
      </div>
    </div>
    <div class="row d-flex justify-content-center">
      <div class="col-lg-8 col-9">
        <small class="pl-2">Nota: Introduzca <b>nombre </b> o <b>sku</b></small>
      </div>
    </div>

    <div class="row d-flex justify-content-center mt-4">
    <div *ngIf="products.length > 0">
      <table class="table pt-2 w-100" >
        <thead class="thead-light">
          <tr>
            <th>Acción</th>
            <th>Nombre</th>
            <th>Sku</th>
            <th>Descripción</th>
            <th>Gestionar</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let u of products | search: filterPost | paginate: { itemsPerPage: 15, currentPage: p }">
            <td class="text-center">
              <div class="row">
                <div class="col-2">
                  <mat-icon title="eliminar" class="text-danger pointer" (click)="deleteProduct(u)">
                    delete_forever
                  </mat-icon>
                </div>
                <div class="col-2">
                  <mat-icon title="actualizar" class="text-info pointer" (click)="updateProduct(u)">
                    update</mat-icon>
                </div>
              </div>
            </td>
            <td>{{u.nombre}}</td>
            <td>{{u.sku}}</td>
            <td>{{u.descripcion}}</td>
            <td class="text-center">
              <div class="row">
                <div class="col-2">
                  <mat-icon title="eliminar" class="text-danger pointer" (click)="sustrabProduct(u)">
                    remove
                  </mat-icon>
                </div>
                <div class="col-2">
                  {{u.total}}
                </div>
                <div class="col-2">
                   <mat-icon title="actualizar" class="text-info pointer" (click)="addProduct(u)">
                    add</mat-icon>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <pagination-controls class="d-flex justify-content-center" (pageChange)="p = $event" previousLabel=""
        nextLabel=""></pagination-controls>
    </div>
    <div *ngIf="products.length == 0">
      <div class="alert alert-primary fade-in" role="alert">
        No se encontraron resultados.
      </div>
    </div>
  </div>
  <div class="row d-flex justify-content-center mt-4" *ngIf="total.length > 0">
    <div class="col-6">
      <button mat-raised-button color="warn" class="btn btn-block" (click)="viewDetail()">
        <mat-icon>shopping_cart</mat-icon>
        <span class="ml-2">Completar Carrito</span>
      </button>
    </div>
  </div>
  </div>
</div>